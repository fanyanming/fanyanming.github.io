<!DOCTYPE html>
<html >
<head>

    <!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]-->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no" />
<meta name="author" content="Yanming Fan" />



<meta name="description" content="先放一张图:
和2句官方文档片段copy —- The copy returned is immutable if the consideration “immutable vs. mutable” applies to the receiving object; otherwise the exact nature of the copy is determined by the class.m">
<meta property="og:type" content="article">
<meta property="og:title" content="深拷贝和浅拷贝,可变和不可变的一点点心得">
<meta property="og:url" content="http://yoursite.com/2016/06/22/深拷贝和浅拷贝-可变和不可变的一点点心得/index.html">
<meta property="og:site_name" content="Yanming’s blog">
<meta property="og:description" content="先放一张图:
和2句官方文档片段copy —- The copy returned is immutable if the consideration “immutable vs. mutable” applies to the receiving object; otherwise the exact nature of the copy is determined by the class.m">
<meta property="og:image" content="http://yoursite.com/assets/images/2016/copyAbout.png">
<meta property="og:updated_time" content="2016-06-23T07:36:40.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="深拷贝和浅拷贝,可变和不可变的一点点心得">
<meta name="twitter:description" content="先放一张图:
和2句官方文档片段copy —- The copy returned is immutable if the consideration “immutable vs. mutable” applies to the receiving object; otherwise the exact nature of the copy is determined by the class.m">
<meta name="twitter:image" content="http://yoursite.com/assets/images/2016/copyAbout.png">

<link rel="apple-touch-icon" href= "/apple-touch-icon.png">


    <link rel="alternative" href="/atom.xml" title="Yanming’s blog" type="application/atom+xml">



    <link rel="shortcut icon" href="/favicon.png">



    <link href="//cdn.bootcss.com/animate.css/3.5.1/animate.min.css" rel="stylesheet">



    <link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet">



    <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-minimal.css" rel="stylesheet">


<link rel="stylesheet" href="/css/style.css">



<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">


<title>深拷贝和浅拷贝,可变和不可变的一点点心得 | Yanming’s blog</title>

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

<script>
    var yiliaConfig = {
        fancybox: true,
        animate: true,
        isHome: false,
        isPost: true,
        isArchive: false,
        isTag: false,
        isCategory: false,
        open_in_new: false,
        fancybox_js: "//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",
        scrollreveal: "//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js",
        search: undefined
    }
</script>


    <script>
        yiliaConfig.jquery_ui = [true, "//cdn.bootcss.com/jqueryui/1.10.4/jquery-ui.min.js", "//cdn.bootcss.com/jqueryui/1.10.4/css/jquery-ui.min.css"];
    </script>



    <script> yiliaConfig.rootUrl = "\/";</script>






</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="/img/avatar.png" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">Yanming Fan</a></h1>
        </hgroup>

        
        <p class="header-subtitle">Record and share.</p>
        

        


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">主页</a></li>
                        
                            <li><a href="/archives/">所有文章</a></li>
                        
                            <li><a href="/about/">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" target="_blank" href="mailto:developerfan@outlook.com" title="Email"></a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="https://hexo.io">Hexo</a>
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="https://pages.github.com/">GitHub</a>
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="http://moxfive.xyz/">MOxFIVE</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">精致的开发者</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">Yanming Fan</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="/img/avatar.png" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">Yanming Fan</a></h1>
            </hgroup>
            
            <p class="header-subtitle">Record and share.</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">主页</a></li>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/about/">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" target="_blank" href="mailto:developerfan@outlook.com" title="Email"></a>
                            
                        </ul>
            </nav>
        </header>                
    </div>
    <link class="menu-list" tags="标签" friends="友情链接" about="关于我"/>
</nav>
      <div class="body-wrap"><article id="post-深拷贝和浅拷贝-可变和不可变的一点点心得" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/06/22/深拷贝和浅拷贝-可变和不可变的一点点心得/" class="article-date">
      <time datetime="2016-06-22T06:05:47.000Z" itemprop="datePublished">2016-06-22</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      深拷贝和浅拷贝,可变和不可变的一点点心得
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        

        
        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h3 id="先放一张图"><a href="#先放一张图" class="headerlink" title="先放一张图:"></a>先放一张图:</h3><p><img src="/assets/images/2016/copyAbout.png" alt="关系图"></p>
<h3 id="和2句官方文档片段"><a href="#和2句官方文档片段" class="headerlink" title="和2句官方文档片段"></a>和2句官方文档片段</h3><p><code>copy —- The copy returned is immutable if the consideration “immutable vs. mutable” applies to the receiving object; otherwise the exact nature of the copy is determined by the class.</code><br><code>mutableCopy —— The copy returned is mutable whether the original is mutable or not.</code></p>
<h3 id="因为这两个概念实在是易于混淆-所以一下说的都是肯定的-错误的不说"><a href="#因为这两个概念实在是易于混淆-所以一下说的都是肯定的-错误的不说" class="headerlink" title="因为这两个概念实在是易于混淆,所以一下说的都是肯定的,错误的不说"></a>因为这两个概念实在是易于混淆,所以一下说的都是肯定的,错误的不说</h3><ol>
<li>先把上面两句转化(翻译😄),使用copy方法后返回的对象和被拷贝的对象的可变性一致,当然被拷贝的对象没有相关属性依然一致;使用mutableCopy方法返回的对象,为可变,无论被拷贝的对象是否可变.</li>
<li>深拷贝和浅拷贝,与可变和不可变没有必然关系</li>
<li>系统的类大部分都是执行的浅拷贝,无论是使用copy方法还是mutableCopy方法,所以说使用mutableCopy的不一定是深拷贝</li>
<li>系统的一些类<code>NSDictionary</code>,<code>NSArray</code>,<code>NSSet</code>等,默认都是浅拷贝,无论你是用哪种的拷贝方法</li>
<li>既然是拷贝,无论是哪种方式,copy或者mutableCopy获取的对象都是不同的,但是深拷贝的对象则是完全独立(<em>这里强调一点的就是如果一个类的子类属于系统的一些类的,这些子类也只会被浅拷贝出来,而不会是全新的子类</em>),可以看第一张图,很清晰,举个例子:<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSString</span> *a1 = <span class="string">@"hello"</span>;</span><br><span class="line"><span class="built_in">NSString</span> *a2 = <span class="string">@"world"</span>;</span><br><span class="line"></span><br><span class="line">CrazyBee *bee1 = [[CrazyBee alloc] init];<span class="comment">// 自建类,需要手动实现copyWithZone,或者mutableCopyWithZone方法</span></span><br><span class="line">CrazyBee *bee2 = [[CrazyBee alloc] init];</span><br><span class="line"></span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%@:%p"</span>,bee1,bee1);</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%@:%p"</span>,bee2,bee2);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 原始对象</span></span><br><span class="line"><span class="built_in">NSArray</span> *originalArr = @[bee1,bee2];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"-------原始对象---------\noriginalArr:%p"</span>,originalArr);</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"originalArr[0]:%p"</span>,originalArr[<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 浅拷贝</span></span><br><span class="line"><span class="keyword">id</span> copiedArr = [originalArr <span class="keyword">copy</span>];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"------浅拷贝------\ncopiedArr:%p"</span>,&amp;copiedArr);</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"copiedArr[0]:%p"</span>,copiedArr[<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 伪深拷贝</span></span><br><span class="line"><span class="keyword">id</span> fakeCopiedArr = [originalArr mutableCopy];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"----伪深拷贝-----\nfakeCopiedArr:%p"</span>,fakeCopiedArr);</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"fakeCopiedArr[0]:%p"</span>,fakeCopiedArr[<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 深拷贝</span></span><br><span class="line"><span class="keyword">id</span> deepCopiedArr = [[<span class="built_in">NSMutableArray</span> alloc] initWithArray:originalArr copyItems:<span class="literal">YES</span>];<span class="comment">// 此方法会让子对象也调用copyWithZone/mutableCopyWithZone方法,这也是为什么自建类要手动实现拷贝的方法,不然会崩溃</span></span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"----深拷贝-----\ndeepCopiedArr:%p"</span>,&amp;deepCopiedArr);</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"deepCopiedArr[0]:%p"</span>,deepCopiedArr[<span class="number">0</span>]);</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="运行结果"><a href="#运行结果" class="headerlink" title="运行结果"></a>运行结果</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;CrazyBee: 0x7ff27ad41400&gt;:0x7ff27ad41400//地址1</span><br><span class="line">	&lt;CrazyBee: 0x7ff27ad3c820&gt;:0x7ff27ad3c820</span><br><span class="line">	-------原始对象---------</span><br><span class="line">originalArr:0x7ff27ad01300</span><br><span class="line">originalArr[0]:0x7ff27ad41400//地址1</span><br><span class="line"> ------浅拷贝------</span><br><span class="line">copiedArr:0x7fff5bff8a28</span><br><span class="line">	copiedArr[0]:0x7ff27ad41400//地址1</span><br><span class="line">	----伪深拷贝-----</span><br><span class="line">fakeCopiedArr:0x7ff27af1aeb0</span><br><span class="line">fakeCopiedArr[0]:0x7ff27ad41400//地址1</span><br><span class="line"> ----深拷贝-----</span><br><span class="line">deepCopiedArr:0x7fff5bff8a18</span><br><span class="line">	deepCopiedArr[0]:0x7ff27af17e20// 新地址(如果上述的子类是a1,a2,这里也是地址1,也印证了系统默认使用浅拷贝的)</span><br></pre></td></tr></table></figure>
<h3 id="最后放上一段官方文档-附带简易翻译-我感觉说的已近很清楚了"><a href="#最后放上一段官方文档-附带简易翻译-我感觉说的已近很清楚了" class="headerlink" title="最后放上一段官方文档(附带简易翻译),我感觉说的已近很清楚了"></a>最后放上一段官方文档(附带简易翻译),我感觉说的已近很清楚了</h3><blockquote>
<p><strong>Copy Functions</strong></p>
<p>In general, a standard copy operation, which might also be called simple assignment, occurs when you use the = operator to assign the value of one variable to another. The expression myInt2 = myInt1, for example, causes the integer contents of myInt1 to be copied from the memory used by myInt1 into the memory used by myInt2. Following the copy operation, two separate areas of memory contain the same value. However, if you attempt to copy a Core Foundation object in this way, be aware that you will not duplicate the object itself, only the reference to the object.(基本类型数据的赋值(=),直接拷贝数据,实例对象,只会拷贝指针,指向被拷贝的对象,不会再创建额外的空间(存放指针的空间还是要有的))</p>
<p>For example, someone new to Core Foundation might think that to make a copy of a CFString object she would use the expression myCFString2 = myCFString1. Again, this expression does not actually copy the string data. Because both myCFString1 and myCFString2 must have the CFStringRef type, this expression only copies the reference to the object. Following the copy operation, you have two copies of the reference to the CFString. This type of copy is very fast because only the reference is duplicated, but it is important to remember that copying a mutable object in this way is dangerous. As with programs that use global variables, if one part of your application changes an object using a copy of the reference, there is no way for other parts of the program which have copies of that reference to know that the data has changed.</p>
<p>If you want to duplicate an object, you must use one of the functions provided by Core Foundation specifically for this purpose. Continuing with the CFString example, you would use CFStringCreateCopy to create an entirely new CFString object containing the same data as the original. Core Foundation types which have “CreateCopy” functions also provide the variant “CreateMutableCopy” which returns a copy of an object that can be modified.</p>
<p><strong>Shallow Copy</strong></p>
<p>Copying compound objects, objects such as collection objects that can contain other objects, must also be done with care. As you would expect, using the = operator to perform a copy on these objects results in a duplication of the object reference. In contrast to simple objects like CFString and CFData, the “CreateCopy” functions provided for compound objects such as CFArray and CFSet actually perform a shallow copy. In the case of these objects, a shallow copy means that a new collection object is created, but the contents of the original collection are not duplicated—only the object references are copied to the new container. This type of copy is useful if, for example, you have an array that’s immutable and you want to reorder it. In this case, you don’t want to duplicate all of the contained objects because there’s no need to change them—and why use up that extra memory? You just want the set of included objects to be changed. The same risks apply here as with copying object references with simple types.(对于复杂的对象,对象中又包含对象的,浅复制则只拷贝容器对象,而拷贝出来的对象内的对象则依然指向被拷贝的对象内的子对象,而且这也是系统建议的拷贝方法)</p>
<p><strong>Deep Copy</strong></p>
<p>When you want to create an entirely new compound object, you must perform a deep copy. A deep copy duplicates the compound object as well as the contents of all of its contained objects. The current release of Core Foundation includes a function that performs deep copying of a property list (see CFPropertyListCreateDeepCopy). If you want to create deep copies of other structures, you could perform the deep copy yourself by recursively descending into the compound object and copying all of its contents one by one. Take care in implementing this functionality as compound objects can be recursive—they may directly or indirectly contain a reference to themselves—which can cause a recursive loop.(同样针对这类复杂的对象来说,深复制,则是将子对象也全部复制)</p>
</blockquote>
<p>参考:官网文档,<a href="http://xiongzenghuidegithub.github.io/blog/2016/03/26/qian-kao-bei-yu-shen-kao-bei/" target="_blank" rel="external">浅拷贝与深拷贝</a></p>

      
    </div>
    
  </div>
  
    
    <div class="copyright">
        <p><span>本文标题:</span><a href="/2016/06/22/深拷贝和浅拷贝-可变和不可变的一点点心得/">深拷贝和浅拷贝,可变和不可变的一点点心得</a></p>
        <p><span>文章作者:</span><a href="/" title="回到主页">Yanming Fan</a></p>
        <p><span>发布时间:</span>2016-06-22, 14:05:47</p>
        <p><span>最后更新:</span>2016-06-23, 15:36:40</p>
        <p>
            <span>原始链接:</span><a class="post-url" href="/2016/06/22/深拷贝和浅拷贝-可变和不可变的一点点心得/" title="深拷贝和浅拷贝,可变和不可变的一点点心得">http://yoursite.com/2016/06/22/深拷贝和浅拷贝-可变和不可变的一点点心得/</a>
            <span class="copy-path" data-clipboard-text="原文: http://yoursite.com/2016/06/22/深拷贝和浅拷贝-可变和不可变的一点点心得/　　作者: Yanming Fan" title="点击复制文章链接"><i class="fa fa-clipboard"></i></span>
            <script> var clipboard = new Clipboard('.copy-path'); </script>
        </p>
        <p>
            <span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" title="CC BY-NC-SA 4.0 International" target = "_blank">"署名-非商用-相同方式共享 4.0"</a> 转载请保留原文链接及作者。
        </p>
    </div>



    <nav id="article-nav">
        
            <div id="article-nav-newer" class="article-nav-title">
                <a href="/2016/06/24/block一些简单的用法总结/">
                    block一些简单的用法总结
                </a>
            </div>
        
        
            <div id="article-nav-older" class="article-nav-title">
                <a href="/2016/06/21/hexo-github-搭建个人博客简述/">
                    hexo + github 搭建个人博客简述
                </a>
            </div>
        
    </nav>

  
</article>

    <div id="toc" class="toc-article">
    <strong class="toc-title">文章目录</strong>
    <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#先放一张图"><span class="toc-number">1.</span> <span class="toc-text">先放一张图:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#和2句官方文档片段"><span class="toc-number">2.</span> <span class="toc-text">和2句官方文档片段</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#因为这两个概念实在是易于混淆-所以一下说的都是肯定的-错误的不说"><span class="toc-number">3.</span> <span class="toc-text">因为这两个概念实在是易于混淆,所以一下说的都是肯定的,错误的不说</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#运行结果"><span class="toc-number">4.</span> <span class="toc-text">运行结果</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#最后放上一段官方文档-附带简易翻译-我感觉说的已近很清楚了"><span class="toc-number">5.</span> <span class="toc-text">最后放上一段官方文档(附带简易翻译),我感觉说的已近很清楚了</span></a></li></ol>
</div>
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
</style>

<input type="button" id="tocButton" value="隐藏目录"  title="点击按钮隐藏或者显示文章目录">

<script>
    yiliaConfig.toc = ["隐藏目录", "显示目录", !!"false"];
</script>



    
<div class="share">
    
        <div class="bdsharebuttonbox">
            <a href="#" class="fa fa-twitter bds_twi" data-cmd="twi" title="分享到推特"></a>
            <a href="#" class="fa fa-weibo bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
            <a href="#" class="fa fa-qq bds_sqq" data-cmd="sqq" title="分享给 QQ 好友"></a>
            <a href="#" class="fa fa-files-o bds_copy" data-cmd="copy" title="复制网址"></a>
            <a href="#" class="fa fa fa-envelope-o bds_mail" data-cmd="mail" title="通过邮件分享"></a>
            <a href="#" class="fa fa-weixin bds_weixin" data-cmd="weixin" title="生成文章二维码"></a>
            <a href="#" class="fa fa-share-alt bds_more" data-cmd="more"></i></a>
        </div>
        <script>
            window._bd_share_config={
                "common":{"bdSnsKey":{},"bdText":"深拷贝和浅拷贝,可变和不可变的一点点心得　| Yanming’s blog　","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
        </script>
    

    
</div>







    
        <section id="comments">
    <style> aside.comment-bar { margin: auto 30px; }</style>
    <div id="disqus_thread"></div>
    <script>
        var disqus_config = function(){
            this.page.url = 'http://yoursite.com/2016/06/22/深拷贝和浅拷贝-可变和不可变的一点点心得/';
            this.page.identifier = '2016/06/22/深拷贝和浅拷贝-可变和不可变的一点点心得/';
        };
        var loadComment = function(){
            var d = document, s = d.createElement('script');
            s.src = '//null.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        }
    </script>
    
    <aside class="comment-bar">
        <a href="javascript:void(0);">
            <i class="fa fa-commenting-o animated infinite pulse"></i>
            <i class="fa fa-spinner fa-pulse"></i>
            <span class="count-comment"></span>
        </a>
    </aside>
    <script>
        var $commentBar = $("#comments aside.comment-bar");
        var load$hide = function(){
            $commentBar.find("a > i").toggle();
            loadComment();
            $commentBar.fadeOut(800);
        }
        $commentBar.click(function(){
            load$hide();
        })
        $commentBar.children("a").hover(function(){
            load$hide();
        })
        if (window.location.hash === "#comments") {
            load$hide();
        }
    </script>

</section>


    // Add comment count
    <script id="dsq-count-scr" src="//null.disqus.com/count.js" async></script>
    <span class="disqus-comment-count" data-disqus-identifier="2016/06/22/深拷贝和浅拷贝-可变和不可变的一点点心得/"></span>
    <span class="disqus-comment-count" data-disqus-url="http://yoursite.com/2016/06/22/深拷贝和浅拷贝-可变和不可变的一点点心得/"></span>
    <script>
        $(".disqus-comment-count").hide();
        var $disqusCount = $(".disqus-comment-count");
        $disqusCount.bind("DOMNodeInserted", function(e) {
            $(".count-comment").text(
                $(this).text().replace(/[^0-9]/ig,"")
            )
            DISQUSWIDGETS.getCount({reset: true});
        })
    </script>

    




    <div class="scroll" id="post-nav-button">
        
            <a href="/2016/06/24/block一些简单的用法总结/" title="上一篇: block一些简单的用法总结">
                <i class="fa fa-angle-left"></i>
            </a>
        

        <a title="文章列表"><i class="fa fa-bars"></i><i class="fa fa-times"></i></a>

        
            <a href="/2016/06/21/hexo-github-搭建个人博客简述/" title="下一篇: hexo + github 搭建个人博客简述">
                <i class="fa fa-angle-right"></i>
            </a>
        
    </div>

    <ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2016/08/24/iOS-那些零碎但有用的东西/">iOS 那些零碎但有用的东西</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/06/24/block一些简单的用法总结/">block一些简单的用法总结</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/06/22/深拷贝和浅拷贝-可变和不可变的一点点心得/">深拷贝和浅拷贝,可变和不可变的一点点心得</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/06/21/hexo-github-搭建个人博客简述/">hexo + github 搭建个人博客简述</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/06/21/hello-world/">Hello World</a></li></ul>




    <script>
        
    </script>
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <i class="fa fa-copyright"></i> 
                2014-2016 Yanming Fan
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="快速、简洁且高效的博客框架">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="简而不减 Hexo 双栏博客主题  v3.5">Yelee</a> by MOxFIVE <i class="fa fa-heart animated infinite pulse"></i>
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" >本站到访数: 
                            <span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>, </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit">本页阅读量: 
                            <span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>
    </div>
    
<script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js"></script>

    <script>
        $(document).ready(function() {
            var iPad = window.navigator.userAgent.indexOf('iPad');
            if (iPad > -1 || $(".left-col").css("display") === "none") {
                var bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
                $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
            }
            else {
                var backgroundnum = 5;
                var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
                $("body").css({"background": backgroundimg, "background-attachment": "fixed", "background-size": "cover"});
            }
        })
    </script>




<div class="scroll" id="scroll">
    <a href="#" title="返回顶部"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="查看评论"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="转到底部"><i class="fa fa-arrow-down"></i></a>
</div>
<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>